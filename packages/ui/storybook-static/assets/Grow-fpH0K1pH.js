import{r as B,m as J,a as M}from"./useSlot-BbE1Yxmg.js";import{u as H,a as N}from"./TransitionGroupContext-D9QyA7sv.js";import{r as h}from"./index-BP8_t0zE.js";import{u as Q}from"./useTheme-BftFWEi_.js";import{j as U}from"./jsx-runtime-CexXSJP5.js";import{g as V,T as X,r as Y,a as A}from"./utils-BGsdn-pT.js";function rt(s){var f;const{elementType:y,externalSlotProps:x,ownerState:l,skipResolvingSlotProps:R=!1,...d}=s,i=R?{}:B(x,l),{props:m,internalRef:p}=J({...d,externalSlotProps:i}),T=H(p,i==null?void 0:i.ref,(f=s.additionalProps)==null?void 0:f.ref);return M(y,{...m,ref:T},l)}function w(s){return`scale(${s}, ${s**2})`}const Z={entering:{opacity:1,transform:w(1)},entered:{opacity:1,transform:"none"}},v=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),D=h.forwardRef(function(y,x){const{addEndListener:l,appear:R=!0,children:d,easing:i,in:m,onEnter:p,onEntered:T,onEntering:j,onExit:f,onExited:F,onExiting:G,style:P,timeout:r="auto",TransitionComponent:L=X,...C}=y,$=N(),S=h.useRef(),a=Q(),g=h.useRef(null),b=H(g,V(d),x),u=t=>e=>{if(t){const o=g.current;e===void 0?t(o):t(o,e)}},k=u(j),z=u((t,e)=>{Y(t);const{duration:o,delay:E,easing:n}=A({style:P,timeout:r,easing:i},{mode:"enter"});let c;r==="auto"?(c=a.transitions.getAutoHeightDuration(t.clientHeight),S.current=c):c=o,t.style.transition=[a.transitions.create("opacity",{duration:c,delay:E}),a.transitions.create("transform",{duration:v?c:c*.666,delay:E,easing:n})].join(","),p&&p(t,e)}),K=u(T),O=u(G),W=u(t=>{const{duration:e,delay:o,easing:E}=A({style:P,timeout:r,easing:i},{mode:"exit"});let n;r==="auto"?(n=a.transitions.getAutoHeightDuration(t.clientHeight),S.current=n):n=e,t.style.transition=[a.transitions.create("opacity",{duration:n,delay:o}),a.transitions.create("transform",{duration:v?n:n*.666,delay:v?o:o||n*.333,easing:E})].join(","),t.style.opacity=0,t.style.transform=w(.75),f&&f(t)}),_=u(F),q=t=>{r==="auto"&&$.start(S.current||0,t),l&&l(g.current,t)};return U.jsx(L,{appear:R,in:m,nodeRef:g,onEnter:z,onEntered:K,onEntering:k,onExit:W,onExited:_,onExiting:O,addEndListener:q,timeout:r==="auto"?null:r,...C,children:(t,e)=>h.cloneElement(d,{style:{opacity:0,transform:w(.75),visibility:t==="exited"&&!m?"hidden":void 0,...Z[t],...P,...d.props.style},ref:b,...e})})});D&&(D.muiSupportAuto=!0);export{D as G,rt as u};
